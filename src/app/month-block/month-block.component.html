
<!-- Month Header -->
<div class="month-header-container">
  <div class="month-header">
    <span class="month-header-m">{{monthName}}&ensp;</span>
    <span class="month-header-y">{{yearNumStr}}</span>
  </div>
  <div class="month-number">{{monthNumStr}}</div>
</div>

<div class="month-grid-container">

  <!-- Weekday Headers -->
  <div
    *ngFor="let block of weekdays; index as i"
    class="day-block weekday-header"
    (mouseenter)="setHoveredWeekday(i)"
    (mouseleave)="setHoveredWeekday(undefined)">{{block}}</div>

  <!-- Month Grid -->
  <div 
    *ngFor="let block of monthGridArray; index as i"
    class="day-block"
    [ngClass]="{
      'block-hoverable': block,
      'weekday-hovered': i % 7 == weekdayHovered
    }"
    (mouseenter)="updateHoveredDateDifference(block)">
    {{block || ' '}}
    <div class="day-block-hint">
      <div class="day-block-hint-header">{{block}} {{monthName}} {{yearNumStr}}</div>
      <div 
        *ngIf="hoveredDateDifference.y && hoveredDateDifference.yStr"
        class="day-block-hint-line">
        <span>{{hoveredDateDifference.yStr[0]}}</span>
        <span class="day-block-hint-line-p2">{{hoveredDateDifference.yStr[1]}}</span>
      </div>
      <div 
        *ngIf="hoveredDateDifference.m && hoveredDateDifference.mStr && year > yearToday - 3 && year < yearToday + 3"
        class="day-block-hint-line">
        <span>{{hoveredDateDifference.mStr[0]}}</span>
        <span class="day-block-hint-line-p2">{{hoveredDateDifference.mStr[1]}}</span>
      </div>
      <div 
        *ngIf="hoveredDateDifference.w && hoveredDateDifference.wStr && year > yearToday - 2 && year < yearToday + 2"
        class="day-block-hint-line">
        <span>{{hoveredDateDifference.wStr[0]}}</span>
        <span class="day-block-hint-line-p2">{{hoveredDateDifference.wStr[1]}}</span>
      </div>
      <div 
        *ngIf="hoveredDateDifference.d && hoveredDateDifference.dStr"
        class="day-block-hint-line">
        <span>{{hoveredDateDifference.dStr[0]}}</span>
        <span class="day-block-hint-line-p2">{{hoveredDateDifference.dStr[1]}}</span>
      </div>
      <div 
        *ngIf="!hoveredDateDifference.d"
        class="day-block-hint-line">Today</div>
    </div>
  </div>

</div>
